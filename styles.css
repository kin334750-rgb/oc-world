*{margin:0;padding:0;box-sizing:border-box}:root{--primary:#6366f1;--primary-hover:#4f46e5;--secondary:#64748b;--bg:#f8fafc;--card-bg:#ffffff;--text:#1e293b;--text-secondary:#64748b;--border:#e2e8f0;--success:#22c55e;--warning:#f59e0b;--error:#ef4444;--shadow:0 4px 6px -1px rgba(0,0,0,0.1);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1);--radius:12px;--radius-lg:20px}[data-theme="dark"]{--bg:#0f172a;--card-bg:#1e293b;--text:#f1f5f9;--text-secondary:#94a3b8;--border:#334155}body{font-family:'Segoe UI','PingFang SC','Microsoft YaHei',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh}.view{display:none;min-height:100vh}.view.active{display:block}
#auth-view{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;padding:20px}.auth-container{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px;overflow:hidden}.auth-header{text-align:center;padding:30px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.auth-header h1{font-size:2rem;margin-bottom:5px}.auth-form{display:none;padding:30px}.auth-form.active{display:block}.auth-form h2{text-align:center;margin-bottom:25px}.form-group{margin-bottom:20px}.form-group label{display:block;margin-bottom:8px;font-weight:500}.form-group input,.form-group textarea,.form-group select{width:100%;padding:12px 15px;border:2px solid var(--border);border-radius:var(--radius);font-size:0.95rem;background:var(--bg);color:var(--text);transition:border-color .3s}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--primary)}.form-options{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;font-size:0.9rem}.role-select{display:flex;gap:15px}.role-option{flex:1;cursor:pointer}.role-option input{display:none}.role-card{border:2px solid var(--border);border-radius:var(--radius);padding:15px;text-align:center;transition:all .3s;display:flex;flex-direction:column;align-items:center;gap:5px}.role-option input:checked+.role-card{border-color:var(--primary);background:rgba(99,102,241,0.1)}.primary-btn{background:var(--primary);color:#fff;border:none;padding:14px 25px;border-radius:var(--radius);font-size:1rem;cursor:pointer;transition:background .3s;width:100%}.primary-btn:hover{background:var(--primary-hover)}.secondary-btn{background:var(--card-bg);color:var(--text);border:2px solid var(--border);padding:12px 20px;border-radius:var(--radius);cursor:pointer;transition:all .3s}.secondary-btn:hover{border-color:var(--primary);color:var(--primary)}.danger-btn{background:var(--error);color:#fff;border:none;padding:12px 20px;border-radius:var(--radius);cursor:pointer}.full-width{width:100%}.auth-switch{text-align:center;margin-top:20px;color:var(--text-secondary)}.auth-switch a{color:var(--primary);text-decoration:none;font-weight:500}
.header{background:var(--card-bg);padding:12px 25px;display:flex;justify-content:space-between;align-items:center;box-shadow:var(--shadow);position:sticky;top:0;z-index:100}.header-left{display:flex;align-items:center;gap:30px}.logo{font-size:1.4rem;font-weight:bold;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.nav{display:flex;gap:5px}.nav-item{padding:8px 16px;text-decoration:none;color:var(--text-secondary);border-radius:var(--radius);transition:all .3s}.nav-item:hover,.nav-item.active{background:var(--bg);color:var(--primary)}.header-right{display:flex;align-items:center;gap:15px}.theme-toggle{background:0;border:none;font-size:1.3rem;cursor:pointer;padding:8px;border-radius:var(--radius)}.notification-bell{position:relative;cursor:pointer;font-size:1.2rem}.notification-bell .badge{position:absolute;top:-5px;right:-5px;background:var(--error);color:#fff;font-size:0.7rem;padding:2px 6px;border-radius:10px;min-width:18px;text-align:center}.user-menu{position:relative}.user-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem;flex-shrink:0}.user-dropdown{position:absolute;top:100%;right:0;margin-top:10px;background:var(--card-bg);border-radius:var(--radius);box-shadow:var(--shadow-lg);min-width:200px;display:none;z-index:9999}.user-menu:hover .user-dropdown,.user-menu:focus-within .user-dropdown{display:block}.dropdown-header{padding:15px;border-bottom:1px solid var(--border)}.dropdown-nickname{display:block;font-weight:600}.dropdown-role{font-size:0.85rem;color:var(--text-secondary)}.dropdown-divider{height:1px;background:var(--border);margin:5px 0}.dropdown-item{display:block;padding:12px 15px;text-decoration:none;color:var(--text);transition:background .3s}.dropdown-item:hover{background:var(--bg)}.back-btn{background:0;border:none;font-size:1rem;cursor:pointer;color:var(--text);padding:8px 15px;border-radius:var(--radius)}.icon-btn{background:0;border:none;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:var(--radius)}
.hall-toolbar{padding:15px 25px;background:var(--card-bg);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.search-box{display:flex;gap:10px;flex:1;max-width:500px}.search-box input{flex:1;padding:10px 15px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--text)}.search-box select{padding:10px 15px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--text)}.search-box button{padding:10px 20px;background:var(--primary);color:#fff;border:none;border-radius:var(--radius);cursor:pointer}.toolbar-right{display:flex;align-items:center;gap:15px}
.hall-content{display:flex;padding:20px;gap:20px;max-width:1400px;margin:0 auto}.sidebar{width:250px;flex-shrink:0}.sidebar-section{background:var(--card-bg);border-radius:var(--radius);padding:20px;margin-bottom:15px;box-shadow:var(--shadow)}.sidebar-section h3{font-size:0.95rem;margin-bottom:15px;color:var(--text-secondary)}.filter-tags{display:flex;flex-wrap:wrap;gap:8px}.filter-tag{padding:6px 12px;background:var(--bg);border-radius:20px;font-size:0.85rem;cursor:pointer;transition:all .3s}.filter-tag:hover,.filter-tag.active{background:var(--primary);color:#fff}.oc-grid{flex:1;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}.oc-card{background:var(--card-bg);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);transition:all .3s;cursor:pointer;animation:fadeInUp .4s ease}.oc-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg)}@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.oc-card-image{width:100%;height:160px;object-fit:cover;background:linear-gradient(135deg,#e0e7ff 0%,#c7d2fe 100%);display:flex;align-items:center;justify-content:center;font-size:3.5rem}.oc-card-image img{width:100%;height:100%;object-fit:cover}.oc-card-body{padding:15px}.oc-card-name{font-size:1.1rem;font-weight:600;margin-bottom:5px}.oc-card-author{font-size:0.85rem;color:var(--text-secondary);margin-bottom:10px}.oc-card-tags{display:flex;flex-wrap:wrap;gap:5px}.tag{background:#e0e7ff;color:var(--primary);padding:3px 10px;border-radius:15px;font-size:0.75rem}
.pagination{display:flex;justify-content:center;align-items:center;gap:8px;padding:30px}.pagination-btn{padding:8px 15px;border:1px solid var(--border);background:var(--card-bg);border-radius:var(--radius);cursor:pointer;transition:all .3s}.pagination-btn:hover:not(:disabled){border-color:var(--primary);color:var(--primary)}.pagination-btn:disabled{opacity:.5;cursor:not-allowed}.pagination-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}
.detail-content{display:flex;gap:25px;padding:25px;max-width:1200px;margin:0 auto}.detail-main{flex:1;min-width:0}.detail-sidebar{width:320px;flex-shrink:0}.oc-display{background:var(--card-bg);border-radius:var(--radius);padding:25px;box-shadow:var(--shadow);margin-bottom:20px;display:flex;gap:25px}.oc-image{width:200px;height:200px;border-radius:var(--radius);overflow:hidden;background:linear-gradient(135deg,#e0e7ff 0%,#c7d2fe 100%);display:flex;align-items:center;justify-content:center;font-size:5rem;flex-shrink:0}.oc-image img{width:100%;height:100%;object-fit:cover}.oc-info{flex:1}.oc-header{display:flex;align-items:center;gap:15px;margin-bottom:10px}.oc-info h2{font-size:1.6rem}.oc-actions{display:flex;gap:8px}.edit-btn{background:0;border:1px solid var(--border);padding:5px 12px;border-radius:var(--radius);cursor:pointer;font-size:0.85rem}.oc-author{color:var(--text-secondary);margin-bottom:10px}.oc-stats{display:flex;gap:20px;margin-bottom:15px}.stat{color:var(--text-secondary);font-size:0.9rem}.oc-tags{display:flex;flex-wrap:wrap;gap:8px}.oc-background,.oc-world,.oc-relations,.comments-section,.author-card{background:var(--card-bg);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);margin-bottom:20px}.oc-background h3,.oc-world h3,.oc-relations h3,.comments-section h3,.author-card h4{margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid var(--border)}#oc-description{white-space:pre-wrap;line-height:1.8;color:var(--text-secondary)}.world-tags,.related-grid{display:flex;flex-wrap:wrap;gap:10px}.world-tag,.related-oc{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:8px 16px;border-radius:20px;font-size:0.9rem;cursor:pointer}.author-info{display:flex;align-items:center;gap:15px;margin-bottom:15px}.author-avatar{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:1.5rem}.author-detail{display:flex;flex-direction:column}.author-name{font-weight:600}.follow-btn{width:100%;padding:10px;background:var(--primary);color:#fff;border:none;border-radius:var(--radius);cursor:pointer}#comments-list{max-height:350px;overflow-y:auto;margin-bottom:15px}.comment-item{padding:15px;border-bottom:1px solid var(--border)}.comment-item:last-child{border-bottom:0}.comment-header{display:flex;justify-content:space-between;margin-bottom:8px}.comment-author{font-weight:500;color:var(--primary)}.comment-time{font-size:0.8rem;color:var(--text-secondary)}.comment-content{line-height:1.6}.comment-form textarea{width:100%;padding:12px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--text);resize:vertical;min-height:80px;font-family:inherit}.comment-form button{margin-top:10px;width:auto;padding:10px 25px}
.profile-content{max-width:700px;margin:0 auto;padding:30px}.profile-header{display:flex;gap:30px;background:var(--card-bg);border-radius:var(--radius);padding:30px;margin-bottom:30px;box-shadow:var(--shadow)}.profile-avatar-section{text-align:center}.profile-avatar{width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:3rem}.profile-info h2{margin-bottom:10px}.profile-email{color:var(--text-secondary);margin-bottom:5px}.profile-role{color:var(--primary);margin-bottom:15px}.profile-stats span{margin-right:25px;color:var(--text-secondary)}.profile-stats strong{color:var(--text)}.profile-form{background:var(--card-bg);border-radius:var(--radius);padding:30px;box-shadow:var(--shadow)}.notifications-list,.favorites-grid,.world-grid{max-width:900px;margin:0 auto;padding:30px}.world-card{background:var(--card-bg);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);transition:all .3s}.world-card:hover{transform:translateY(-5px)}.world-card-cover{height:120px;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:3rem}.world-card-cover img{width:100%;height:100%;object-fit:cover}.world-card-body{padding:20px}.world-card-name{font-size:1.2rem;font-weight:600;margin-bottom:10px}.world-card-desc{color:var(--text-secondary);font-size:0.9rem}
.settings-content{max-width:600px;margin:0 auto;padding:30px}.settings-section{background:var(--card-bg);border-radius:var(--radius);padding:25px;margin-bottom:20px;box-shadow:var(--shadow)}.settings-section h3{margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid var(--border)}.settings-section label{display:flex;align-items:center;gap:10px;cursor:pointer;margin:10px 0}.toggle-label{display:flex;align-items:center;gap:12px;cursor:pointer;font-size:1rem}

/* 好友列表 */
.friends-list{max-width:800px;margin:0 auto;padding:30px}.friends-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.friend-card{background:var(--card-bg);border-radius:var(--radius);padding:20px;display:flex;align-items:center;gap:15px;box-shadow:var(--shadow);flex-wrap:wrap}.friend-avatar{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0}.friend-info{flex:1;min-width:120px}.friend-name{font-weight:600;margin-bottom:5px}.friend-ocs{font-size:0.85rem;color:var(--text-secondary)}.friend-actions{display:flex;gap:8px;width:100%;margin-top:10px}.friend-actions .primary-btn,.friend-actions .secondary-btn{padding:8px 12px;font-size:0.85rem}

/* 表情包选择器 */
.emoji-picker{display:flex;flex-wrap:wrap;gap:8px;padding:15px;background:var(--card-bg);border-radius:var(--radius);margin-top:10px;max-height:150px;overflow-y:auto}.emoji-btn{font-size:1.5rem;cursor:pointer;padding:5px;border-radius:var(--radius);transition:transform .2s}.emoji-btn:hover{transform:scale(1.2)}

/* 聊天室 */
.chat-container{height:calc(100vh - 60px);display:flex;flex-direction:column;max-width:900px;margin:0 auto;padding:20px}.chat-messages{flex:1;overflow-y:auto;background:var(--card-bg);border-radius:var(--radius);padding:20px;margin-bottom:20px}.chat-message{display:flex;gap:12px;margin-bottom:20px;animation:fadeInUp .3s ease}.chat-message.own{flex-direction:row-reverse}.chat-message.own .chat-content{background:var(--primary);color:#fff;border-radius:18px 18px 4px 18px}.chat-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0}.chat-content{max-width:70%;background:var(--bg);padding:12px 16px;border-radius:18px 18px 18px 4px}.chat-name{font-size:0.8rem;font-weight:600;margin-bottom:5px;color:var(--primary)}.chat-message.own .chat-name{display:none}.chat-text{line-height:1.5}.chat-time{font-size:0.7rem;margin-top:5px;opacity:.7}.chat-input-area{display:flex;gap:15px}.chat-input-area input{flex:1;padding:15px 20px;border:2px solid var(--border);border-radius:var(--radius);background:var(--card-bg);color:var(--text);font-size:1rem}.chat-input-area input:focus{outline:none;border-color:var(--primary)}.chat-input-area .primary-btn{padding:15px 30px}

/* 举报模态框 */
#report-reason-select{width:100%;padding:12px 15px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--text);font-size:0.95rem}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;z-index:1000;padding:20px}.modal.active{display:flex}.modal-content{background:var(--card-bg);border-radius:var(--radius-lg);padding:30px;max-width:500px;width:100%;max-height:85vh;overflow-y:auto}.modal-large{max-width:700px}.modal-small{max-width:400px}.modal-content h2{margin-bottom:25px}.form-actions{display:flex;gap:15px;justify-content:flex-end;margin-top:25px}.form-actions .primary-btn,.form-actions .secondary-btn{width:auto}.tabs{display:flex;gap:10px;margin-bottom:20px}.tab-btn{padding:10px 20px;border:2px solid var(--border);background:var(--card-bg);border-radius:var(--radius);cursor:pointer;transition:all .3s}.tab-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}.request-item{background:var(--bg);padding:15px;border-radius:var(--radius);margin-bottom:10px}.request-header{display:flex;justify-content:space-between;margin-bottom:10px}.request-status{padding:4px 12px;border-radius:15px;font-size:0.8rem}.request-status.pending{background:#fef3c7;color:var(--warning)}.request-status.approved{background:#dcfce7;color:var(--success)}.request-status.rejected{background:#fee2e2;color:var(--error)}.request-actions{display:flex;gap:10px;margin-top:10px}.share-content{display:flex;gap:10px}.share-content input{flex:1;padding:12px;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--text)}
.empty-state{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state span{font-size:4rem;display:block;margin-bottom:15px}
#toast-container{position:fixed;top:20px;right:20px;z-index:2000;display:flex;flex-direction:column;gap:10px}.toast{padding:15px 25px;background:var(--card-bg);border-radius:var(--radius);box-shadow:var(--shadow-lg);animation:slideIn .3s ease;max-width:350px}.toast.success{border-left:4px solid var(--success)}.toast.error{border-left:4px solid var(--error)}.toast.warning{border-left:4px solid var(--warning)}.toast.info{border-left:4px solid var(--primary)}@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@media(max-width:900px){.detail-content{flex-direction:column}.detail-sidebar{width:100%}.oc-display{flex-direction:column;align-items:center;text-align:center}.oc-tags{justify-content:center}}@media(max-width:768px){.hall-content{flex-direction:column}.sidebar{width:100%}.header-left{gap:15px}.nav{display:none}.profile-header{flex-direction:column;align-items:center;text-align:center}}

/* 可点击作者名 */
.clickable-author{cursor:pointer;color:var(--primary)}.clickable-author:hover{text-decoration:underline}

/* 用户主页 */
.profile-bg{height:200px;background:linear-gradient(135deg,#667eea,#764ba2);background-size:cover;background-position:center;border-radius:var(--radius) var(--radius) 0 0;position:relative}
.profile-content .profile-header{margin-top:-50px;position:relative;z-index:1}
